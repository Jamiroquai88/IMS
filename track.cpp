/*
 * track.cpp
 *
 *  Created on: Dec 4, 2015
 *      Author: pavel
 */

#include "track.h"

////////////////////////////////////////////////////////////////////////////////////////////////////
CTrack::CTrack(const CAdjacentStation& adjacentStation, unsigned length)
  : m_AdjacentStation(adjacentStation),
    m_Length(length),
    m_pParentTrack(NULL),
    m_pNestedSegment(NULL)
{}

////////////////////////////////////////////////////////////////////////////////////////////////////
CTrack::~CTrack()
{
    delete m_pParentTrack;
    delete m_pNestedSegment;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void CTrack::AddNestedSegment(CTrack* pNestedSegment)
{
    m_pNestedSegment = pNestedSegment;
    m_pNestedSegment->m_pParentTrack = this;
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void CTrack::AddPassingTrain(CTrain& train)
{
    m_PassingTrains.insert(&train);
}

////////////////////////////////////////////////////////////////////////////////////////////////////
void CTrack::RemovePassingTrain(CTrain& train)
{
    m_PassingTrains.erase(&train);
}
